/* Technetium PHP Framework version 2.8
   Author: Tony Leung
   E-mail: tony.leung@cruzium.com
   Util.js - v1.2.19 */
"use strict";window.Util={includeCSS:function(t,e,n){e=e||"screen",t.constructor!=Array&&(t=[t]);var r=t.map(function(t){var n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",n.media=e,n.href=t,n});if(n){var o=document.getElementById(n);if(o){r.forEach(function(t){o.parentNode.insertBefore(t,o)});return}}var i=document.getElementsByTagName("head")[0];r.forEach(function(t){i.appendChild(t)})},includeJS:function(t,e){if(null!=t){var n=function(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=t;var t=document.getElementsByTagName("script");return(t=t[t.length-1]).parentNode.insertBefore(e,t.nextSibling),e};if(t.constructor==Array){var r=n(t.shift());t.length>0?r.onload=function(){Util.includeJS(t,e)}:"function"==typeof e&&(r.onload=e)}else{var r=n(t);"function"==typeof e&&(r.onload=e)}}},writeCSS:function(t,e){var n=document.getElementById(t+"-css");n||((n=document.createElement("style")).setAttribute("id",t+"-css"),n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))},addOnloadEvent:function(t,e){var n=window.onload;"function"==typeof n?window.onload=function(){e&&t(),n(),e||t()}:window.onload=function(){t()}},isIE:function(t){return navigator.userAgent.match(/MSIE|Trident/i)&&(null==t||t<=navigator.userAgent.match(/(?:MSIE|rv:) ?(\d+)/i)[1])},isMobile:function(){return!!navigator.userAgent.match(/(ipad|iphone|ipod|android|iemobile|opera mini|blackberry|pre\/|palm os|palm|hiptop|avantgo|plucker|xiino|blazer|elaine)/i)},isWebView:function(){var t=navigator.userAgent,e=RegExp("(WebView|(iPhone|iPod|iPad)(?!.*Safari/)|Android.*(wv|.0.0.0))","ig");return Boolean(t.match(e))},getCookie:function(t,e){null==e&&(e="");var n=RegExp((t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^;]*)").exec(document.cookie);return null==n?e:n[1]},setCookie:function(t,e,n,r){if(null!=t&&null!=e){var o=[];o.push(t+"="+escape(e)),null==n?o.push("expires="):o.push("expires="+new Date(new Date().getTime()+1e3*n).toUTCString()),null==r&&(r="/"),o.push("path="+r),document.cookie=o.join(";")}},deleteCookie:function(t,e){Util.getCookie(t)&&(null==e&&(e="/"),document.cookie=t+"=;expires=Thu, 01-Jan-1970 00:00:01 GMT;path="+e)},bindData:function(data,container,evtNamespace){var $container=$(container||"body"),evt="databind"+(evtNamespace?"."+evtNamespace:"");for(var i in data){var row=data[i],id="",label="-";null!=row&&("object"!=typeof row?(id=row,label=row):row.constructor==Object?void 0!==row.id&&void 0!==row.label?(id=row.id,label=row.label):(id=row,label=JSON.stringify(row)):row.constructor==Array&&(0==row.length?id=[]:"object"!=typeof row[0]?(id=row,label=row):(id=row.map(function(t,e){return t.id?t.id:""}),label=row.map(function(t,e){return t.label?t.label:"-"}))));var selector=':input[name="'+i+'"]:not(:file), :input[name^="'+i+'["][name$="]"]:not(:file)',bindToInputs=function(t){var e=t.attr("name").match(/\[.+?\]/g);if(e)var n=Util.getNestedProperties(id,e.map(function(t){return t.replace(/^\[/,"").replace(/\]$/,"")}).join("."));else var n=id;null!=n&&(t.is(":radio")?t.val()==n&&t.prop({checked:!0}):t.is(":checkbox")?("object"!=typeof n&&(n=(n+"").split(",")),$.inArray(t.val(),n)>-1&&t.prop({checked:!0})):t.val(n),t.trigger(evt,{id:id}))};$container.filter(selector).each(function(){bindToInputs($(this))}),$(selector,$container).each(function(){bindToInputs($(this))});var selector='[data-bind="'+i+'"], [data-bind-html="'+i+'"]';label.constructor==Array&&(label=label.join(", "));var bindData=function(t){if(void 0!==t[0].value)t.val(id);else{var e=t.is("[data-bind-html]"),n=t.data("bind-prefix")||"",r=t.data("bind-suffix")||"";t.html(n+(e?label:label.toString().htmlspecialchars_decode().htmlspecialchars().nl2br())+r)}t.trigger(evt,{id:id,label:label})};$container.filter(selector).each(function(){bindData($(this))}),$(selector,$container).each(function(){bindData($(this))});var selector='[data-bind-attr*=":'+i+'"]',bindData=function(t){var e=t.data("bind-attr-prefix")||"",n=t.data("bind-attr-suffix")||"";$.each(t.data("bind-attr").split(";"),function(r,o){if(-1!=o.indexOf(":")&&o.split(":")[1].trim()==i){var a=o.split(":")[0].trim(),c={};return c[a]=e+id+n,t.attr(c).trigger(evt,{id:id}),!1}})};$container.filter(selector).each(function(){bindData($(this))}),$(selector,$container).each(function(){bindData($(this))});var selector='[data-compare*="['+i+']"], [data-compare-remove*="['+i+']"]',bindComparisons=function($els){var isRemove=$els.is("[data-compare-remove]"),stmt=$els.data(isRemove?"compare-remove":"compare");stmt=stmt.replace(/\[(.+?)\]/g,'data["$1"]');try{eval(stmt)?$els.show().find(":input").prop({disabled:!1}):$els[isRemove?"remove":"hide"]().find(":input").prop({disabled:!0}),$els.trigger(evt)}catch(e){console.error("Invalid statement "+$els.data("compare"))}};$container.filter(selector).each(function(){bindComparisons($(this))}),$(selector,$container).each(function(){bindComparisons($(this))})}},enableHTML5:function(){for(var t=["article","aside","audio","bdi","canvas","command","datalist","details","embed","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","section","source","summary","time","track","video","wbr"],e=0;e<t.length;e++)document.createElement(t[e])},formatFileSize:function(t,e){(!e||e<0)&&(e=0);for(var n=["B","KB","MB","GB","TB"],r=0;t/1024>1&&r<n.length;)t/=1024,r++;return Math.round(t*Math.pow(10,e))/Math.pow(10,e)+" "+n[r]},escapeRegExpComponent:function(t){return t.replace(/([\.\+\?\*\(\)\{\}\[\]\^\$\/])/g,"\\$1")},unescapeRegExpComponent:function(t,e){return t.replace(/\\([\.\+\?\*\(\)\{\}\[\]\^\$\/])/g,"$1")},generateUid:function(t,e){(!t||t<0)&&(t=12),e&&e.constructor===Array||(e=[]);var n="abcdefghijklmnopqrstuvwxyz0123456789";do for(var r="";r.length<t;)r+=n[Math.floor(Math.random()*n.length)];while(e.indexOf(r)>-1);return r},isValidCurrency:function(t){return!!t.match(/^(AED|AFN|ALL|AMD|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYR|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|ECS|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GWP|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LTL|LVL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRO|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SRD|SSP|STD|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF|XCD|XOF|XPF|YER|ZAR|ZMW|ZWD)$/i)},isValidContact:function(t){return!!t.match(/^(\(\d+\)|\+\d+|\d*)[\d ]+\d+$/i)},isValidEmail:function(t){return!!t.match(/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/i)},getOrigin:function(){var t=window.location;return t.origin?t.origin:t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},getQueryString:function(t,e){if(null==e&&(e=""),window.URLSearchParams)return new URLSearchParams(window.location.search).get(t)||e;var n=RegExp("[\\?&]"+(t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(window.location.href);return null==n?e:n[1]},addQueryString:function(t,e){if(null==t||t.constructor!=Object)return!1;e&&e.match(/^\?/)||(e=window.location.search);var n={};if(e.length>1)for(var r=e.substr(1).split("&"),o=0;o<r.length;o++){var i=r[o].split("=");if(i[0].match(/\[\]$/)){var a=i[0].replace(/\[\]$/,"");"object"!=typeof n[a]&&(n[a]=[]),n[a].push(i[1])}else n[i[0]]=i[1]}for(var a in t)n[a]=t[a];var r=[];for(var a in n)if(null!=n[a])switch(n[a].constructor){case Array:r.push.apply(r,n[a].map(function(t){return a+"[]="+t}));break;case Object:for(var o in n[a])r.push(a+"["+o+"]="+n[a][o]);break;default:r.push(a+"="+n[a])}return r.length?"?"+r.join("&"):""},parseUrl:function(t){var e=document.createElement("a");return e.href=t,{protocol:e.protocol,host:e.host.replace(/\:\d+$/,""),port:e.port,pathname:e.pathname.match(/^\//)?e.pathname:"/"+e.pathname,search:e.search,hash:e.hash}},redirect:function(t,e){var n=["assign","replace","reload"].find(function(t){return t==e})||"assign";return window.location[n](t)},isFunction:function(t){return"function"==typeof t},getNestedProperties:function(t,e,n){if("object"!=typeof t||!e)return null;e=e.split(".");for(var r=0;r<e.length;r++){if(!(t&&t.hasOwnProperty(e[r])))return n;t=t[e[r]]}return t},hasNestedProperties:function(t,e){return null!=Util.getNestedProperties(t,e)},initiateCountdown:function(t,e,n){Util.isFunction(e)&&e(t),setTimeout(function(){--t>0?Util.initiateCountdown(t,e,n):Util.isFunction(n)&&n()},1e3)}},Util.isIE(8)&&Util.enableHTML5(),document.getElementById("util-css")||Util.writeCSS("util","[data-compare], [data-compare-remove] {display:none;}"),Array.prototype.filter||(Array.prototype.filter=function(t,e){if(!(("Function"==typeof t||"function"==typeof t)&&this))throw TypeError();var n=this.length>>>0,r=Array(n),o=this,i=0,a=-1;if(void 0===e)for(;++a!==n;)a in this&&t(o[a],a,o)&&(r[i++]=o[a]);else for(;++a!==n;)a in this&&t.call(e,o[a],a,o)&&(r[i++]=o[a]);return r.length=i,r}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(this==null)throw TypeError("Array.prototype.forEach called on null or undefined");var n,r,o,i=Object(this),a=i.length>>>0;if("function"!=typeof t)throw TypeError(t+" is not a function");for(arguments.length>1&&(r=e),o=0;o<a;)o in i&&(n=i[o],t.call(r,n,o,i)),o++}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return -1}),Array.prototype.map||(Array.prototype.map=function(t){if(this==null)throw TypeError("this is null or not defined");var e,n,r,o,i,a=Object(this),c=a.length>>>0;if("function"!=typeof t)throw TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),n=Array(c),r=0;r<c;)r in a&&(o=a[r],i=t.call(e,o,r,a),n[r]=i),r++;return n}),Array.prototype.sum||(Array.prototype.sum=function(){return this.reduce(function(t,e){return t+(isNaN(e)?0:e)},0)}),Array.prototype.unique||(Array.prototype.unique=function(){return this.filter(function(t,e,n){return n.indexOf(t)===e})}),String.prototype.htmlspecialchars||(String.prototype.htmlspecialchars=function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return this.replace(/[&<>"]/g,function(e){return t[e]})}),String.prototype.htmlspecialchars_decode||(String.prototype.htmlspecialchars_decode=function(){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return this.replace(/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,function(e){return t[e]})}),String.prototype.nl2br||(String.prototype.nl2br=function(){return(this+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")}),String.prototype.padStart||(String.prototype.padStart=function t(e,n){return(e>>=0,n=String(void 0!==n?n:" "),this.length>e)?String(this):((e-=this.length)>n.length&&(n+=n.repeat(e/n.length)),n.slice(0,e)+String(this))}),String.prototype.trimToFit||(String.prototype.trimToFit=function(t,e){if(!t||isNaN(t)||!(e=document.querySelector(e||"body")))return this.toString();var n=this.replace(/\s/g," "),r=document.createElement("div");for(r.innerHTML=n,r.style.position="absolute",e.appendChild(r);r.offsetWidth>t&&n.length>0;){var o=n.lastIndexOf(" ");n=n.substring(0,o>-1?o:n.length-1),r.innerHTML=n+"..."}return e.removeChild(r),0==n.length?this.toString():n==this?n:n+"..."}),String.prototype.toCamelCase||(String.prototype.toCamelCase=function(){var t=this.replace(/[-_\s.]+(.)?/g,function(t,e){return e?e.toUpperCase():""});return t.substr(0,1).toLowerCase()+t.substr(1)}),String.prototype.toKebabCase||(String.prototype.toKebabCase=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}),String.prototype.toPascalCase||(String.prototype.toPascalCase=function(){var t=this.replace(/[-_\s.]+(.)?/g,function(t,e){return e?e.toUpperCase():""});return t.substr(0,1).toUpperCase()+t.substr(1)}),String.prototype.toSnakeCase||(String.prototype.toSnakeCase=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s-]+/g,"_").toLowerCase()}),String.prototype.ucwords||(String.prototype.ucwords=function(){return(this+"").replace(/^(.)|\s+(.)/g,function(t){return t.toUpperCase()})}),Number.prototype.map||(Number.prototype.map=function(t,e,n,r){return(this-t)*(r-n)/(e-t)+n}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E},Math.degToRad=function(t){return t*Math.PI/180},Math.radToDeg=function(t){return 180*t/Math.PI},Math.fibonacci=function(t){if(t<=0)return 0;for(var e=[0,1],n=e.length;n<t;n++)e.push(e[e.length-2]+e[e.length-1]);return e[e.length-1]},Math.gaussianRandom=function(t,e){return!(e<0)&&(2*Math.random()-1+2*Math.random()-1+2*Math.random()-1)*e+t};